"use strict";(self.webpackChunkmy_films=self.webpackChunkmy_films||[]).push([[698],{5720:function(t,e,n){n.d(e,{V:function(){return h}});var i=n(3433),l=n(2791),r=n(4420),s=n(2580),a=n(1087),u={ulButActIt:"ManipButs_ulButActIt__4Oyy0",butActIt:"ManipButs_butActIt__7fb3D",notPlayButPlay:"ManipButs_notPlayButPlay__f-HM6",isPlayButPlay:"ManipButs_isPlayButPlay__vldpW",notFavBut:"ManipButs_notFavBut__z8K6x",isFavBut:"ManipButs_isFavBut__uVQo7",notSelBut:"ManipButs_notSelBut__PA6Pk",isSelBut:"ManipButs_isSelBut__u1Ts5",detBut:"ManipButs_detBut__VBo5a"},c=n(8992),o=n(3628),d=n(781),f=n(184),h=function(t){var e=t.film,n=t.coef,h=(0,r.I0)(),m=(0,r.v9)(s.D5),x=(0,r.v9)(c.$Q),v=(0,r.v9)(c.tT),p=(0,r.v9)(c.eA),y=(0,r.v9)(c.Wu),F=x.some((function(t){return t.id===e.id})),g=v.some((function(t){return t.id===e.id})),_=p.some((function(t){return t.id===e.id})),w=(0,l.useRef)(null),j=(0,l.useRef)(null),b=(0,l.useRef)(null),B=(0,l.useRef)(null),I=(0,l.useRef)(null);return(0,l.useEffect)((function(){var t=m<=1e3?m:1e3;if(w.current&&j.current&&b.current&&B.current&&I.current){var e=w.current,i=j.current,l=b.current,r=B.current,s=I.current;e.style.gap=t/(40*n)+"px",s.style.width=t/(13*n)+"px",s.style.height=t/(13*n)+"px",r.style.width=t/(13*n)+"px",r.style.height=t/(13*n)+"px",i.style.width=t/(13*n)+"px",i.style.height=t/(13*n)+"px",l.style.width=t/(13*n)+"px",l.style.height=t/(13*n)+"px"}})),(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("ul",{ref:w,className:u.ulButActIt,children:[(0,f.jsx)("li",{children:(0,f.jsx)("button",{ref:j,id:e._id,className:[u.butActIt,F?u.isPlayButPlay:u.notPlayButPlay].join(" "),type:"button",onClick:function(){var t=document.querySelector(".listFilmsForGap").scrollLeft;h((0,d.B)(t));var n=[];n=F?x.filter((function(t){return t.id!==e.id})):[].concat((0,i.Z)(x),[e]);var l={id:y,played:n};h((0,o.ug)(l))},children:"Play"})}),(0,f.jsx)("li",{children:(0,f.jsx)("button",{ref:B,type:"button",className:[u.butActIt,g?u.isSelBut:u.notSelBut].join(" "),onClick:function(){var t=document.querySelector(".listFilmsForGap").scrollLeft;h((0,d.B)(t));var n=[];n=g?v.filter((function(t){return t.id!==e.id})):[].concat((0,i.Z)(v),[e]);var l={id:y,selected:n};h((0,o.pM)(l))},children:"Selected"})}),(0,f.jsx)("li",{children:(0,f.jsx)("button",{ref:I,id:e._id,className:[u.butActIt,_?u.isFavBut:u.notFavBut].join(" "),type:"button",onClick:function(){var t=document.querySelector(".listFilmsForGap").scrollLeft;h((0,d.B)(t));var n=[];n=_?p.filter((function(t){return t.id!==e.id})):[].concat((0,i.Z)(p),[e]);var l={id:y,favorite:n};h((0,o.R3)(l))},children:"Favorite"})}),(0,f.jsx)("li",{children:(0,f.jsx)(a.rU,{to:"/films/".concat(e.id),state:{from:window.location.href},children:(0,f.jsx)("button",{ref:b,type:"button",className:[u.butActIt,u.detBut].join(" "),children:"Details"})})})]})})}},7698:function(t,e,n){n.r(e),n.d(e,{default:function(){return Q}});var i,l,r,s,a,u=n(9439),c={labelFilter:"Filter_labelFilter__7SBy1",inputFilter:"Filter_inputFilter__8QMOp"},o=n(4420),d=n(2580),f=n(1473),h=n(2791),m=n(184),x=function(){var t=(0,o.v9)(d.AD),e=(0,o.I0)(),n=(0,h.useState)(""),i=(0,u.Z)(n,2),l=i[0],r=i[1];return(0,h.useEffect)((function(){var t=window.innerWidth;r(t>465?"Please start typing the desired title":t<=465&&t>370?"Please start typing title":"Type title")}),[]),(0,m.jsx)("label",{className:[c.labelFilter,"labelFilter"].join(" "),children:(0,m.jsx)("input",{value:t,className:c.inputFilter,type:"text",name:"filter",placeholder:l,onChange:function(t){t.preventDefault();var n=t.target.value;e((0,f.T)(n))}})})},v=n(5294),p=n(8992),y=n(4751),F="PageUsers_divContFiltPageUsers__JZL5M",g=n(7990),_=n(3628),w={allDivFilmList:"Styles_allDivFilmList__XUI95",divForFilmList:"Styles_divForFilmList__G7Tyo",listFilms:"Styles_listFilms__AYhmo",itemFilm:"Styles_itemFilm__+Dnxk",itemFilmActive:"Styles_itemFilmActive__znSKh",firstDivItemFilm:"Styles_firstDivItemFilm__xWC8B",divItemFilm:"Styles_divItemFilm__IV0CE",divInfoItemFilms:"Styles_divInfoItemFilms__CWndJ",hItemFilmsName:"Styles_hItemFilmsName__Rg9x4",divPItemFilms:"Styles_divPItemFilms__GKm51",pItemFilmsNumber:"Styles_pItemFilmsNumber__HFPPs",buttonFav:"Styles_buttonFav__h0-uQ",notFavBut:"Styles_notFavBut__l2Zp5",isFavBut:"Styles_isFavBut__mZ3Gm"},j=n(3433),b=n(781),B=function(t){var e=t.film,n=t.activeId,i=(0,o.I0)(),l=(0,o.v9)(d.D5),r=(0,o.v9)(p.tT),s=(0,o.v9)(p.Wu),a=(0,h.useState)(!1),c=(0,u.Z)(a,2),f=c[0],x=c[1];(0,h.useEffect)((function(){r&&x(r.some((function(t){return t.id===e.id})))}),[r,e]);var v=(0,h.useRef)(null),y=(0,h.useRef)(null),F=(0,h.useRef)(null),g=(0,h.useRef)(null),B=(0,h.useRef)(null),I=(0,h.useRef)(null);return(0,h.useEffect)((function(){var t=l<=1e3?l:1e3;if(v.current&&y.current&&F.current&&B.current&&I.current&&g.current){var e=v.current,n=y.current,i=F.current,r=g.current,s=B.current,a=I.current;e.style.borderRadius=t/88+"px",n.style.borderRadius=t/88+"px",n.style.textShadow=t/500+"px "+t/500+"px "+t/200+"px black",i.style.right=t/44+"px",i.style.width=t/40+"px",i.style.height=t/40+"px",r.style.paddingLeft=t/100+"px",r.style.paddingRight=t/100+"px",s.style.fontSize=t/76+"px",s.style.padding=t/100+"px",s.style.borderRadius="0 0 ".concat(t/88,"px ").concat(t/88,"px"),a.style.marginTop=t/8+"px"}}),[n,l]),(0,m.jsx)("div",{ref:v,className:[w.firstDivItemFilm,"firstDivItemFilm"].join(" "),style:{backgroundImage:"url(".concat(e.image,")")},children:(0,m.jsxs)("div",{ref:y,className:[w.divItemFilm,"divItemFilm"].join(" "),children:[(0,m.jsxs)("div",{ref:I,className:w.divInfoItemFilms,children:[(0,m.jsx)("h2",{ref:g,className:w.hItemFilmsName,children:e.title}),(0,m.jsxs)("div",{ref:B,className:w.divPItemFilms,children:[(0,m.jsxs)("p",{className:w.pItemFilmsNumber,children:["Rating: ",e.rating]}),(0,m.jsxs)("p",{className:w.pItemFilmsNumber,children:["Release date: ",function(t){var e=new Date(t),n=e.getDate().toString().padStart(2,"0"),i=(e.getMonth()+1).toString().padStart(2,"0"),l=e.getFullYear();return"".concat(n,".").concat(i,".").concat(l)}(e.release_date)]})]})]}),(0,m.jsx)("button",{ref:F,type:"button",className:[w.buttonFav,f?w.isFavBut:w.notFavBut,"buttonFav"].join(" "),onClick:function(){var t=document.querySelector(".listFilmsForGap").scrollLeft;i((0,b.B)(t));var n=[];n=f?r.filter((function(t){return t.id!==e.id})):[].concat((0,j.Z)(r),[e]);var l={id:s,selected:n};i((0,_.pM)(l))},children:"Favorite"})]})})},I="ActiveItemFilm_allDivActItFilm__QwJY6",S="ActiveItemFilm_infoActIt__kyD-i",R="ActiveItemFilm_hActIt__Js2qS",A=n(5720),L=function(t){var e=t.film,n=(0,o.v9)(d.D5),i=(0,h.useRef)(null),l=(0,h.useRef)(null);return(0,h.useEffect)((function(){var t=n<=1e3?n:1e3,e=2.3;if(i.current&&l.current){var r=i.current,s=l.current;r.style.borderRadius=t/(44*e)+"px",s.style.borderRadius="0 0 ".concat(t/(44*e),"px ").concat(t/(44*e),"px"),s.style.padding=t/(50*e)+"px",s.style.paddingBottom=t/(25*e)+"px"}})),(0,m.jsx)("div",{ref:i,className:I,style:{backgroundImage:"url(".concat(e.image,")")},children:(0,m.jsxs)("div",{ref:l,className:S,children:[(0,m.jsx)("h2",{className:R,children:e.title}),(0,m.jsx)(A.V,{film:e,coef:"2.3"})]})})},N=n(7689),P=function(t){var e=t.allFilms,n=(0,o.I0)(),i=(0,h.useState)(e),l=(0,u.Z)(i,2),r=l[0],s=l[1],a=(0,o.v9)(d.AD),c=(0,o.v9)(d.yS),f=(0,o.v9)(d.D5),x=(0,h.useState)(null),v=(0,u.Z)(x,2),p=v[0],y=v[1],F=(0,h.useRef)(!1),g=(0,h.useRef)([]),_=(0,h.useRef)([]),j=(0,h.useRef)(null);return(0,h.useEffect)((function(){c>0&&j.current&&(setTimeout((function(){j.current.scrollLeft=c}),100),n((0,b.B)(0)))}),[c,n]),(0,h.useEffect)((function(){var t=j.current,e=_.current,n=g.current,i=3.2,l=window.innerWidth,r=l<=1e3?l:1e3;if(r&&n.length>0){n.forEach((function(t){t.style.height=r/i+"px",t.style.minWidth=r/(1.667*i)+"px",t.style.fontSize=r/(19*i)+"px",t.style.borderRadius=r/70.4+"px",y(null)})),j.current&&(j.current.style.gap=r/32+"px");var s=function(){n.length>0&&n.forEach((function(t){return c(t,l)}))};!F.current&&t&&n&&(F.current=!0,t.addEventListener("scroll",s));var a=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(l=window.innerWidth,(r=l<=1e3?l:1e3)&&n.length>0){var u=n.filter((function(t){return t.getAttribute("id")!==e.getAttribute("id")}));u.forEach((function(t){t.style.height=r/i+"px",t.style.minWidth=r/(1.667*i)+"px",t.style.fontSize=r/(19*i)+"px",t.style.borderRadius=r/140.8+"px",t.classList.remove(w.iFilmActive)})),e.style.height=r/i*1.4+"px",e.style.minWidth=r/(1.667*i)*1.4+"px",e.style.fontSize=r/(19*i)*1.4+"px",e.style.borderRadius=r/140.8*1.4+"px",e.classList.add(w.iFilmActive),y(e.getAttribute("id"));var c=j.current.scrollLeft;j.current.style.scrollBehavior="smooth",0!==a&&(j.current.scrollLeft=c+a),setTimeout((function(){t&&t.addEventListener("scroll",s)}),500)}},u=function(e,n,i){if(!e.target.classList.contains("buttonFav")){t&&t.removeEventListener("scroll",s);var l=n.getBoundingClientRect(),r=j.current.getBoundingClientRect(),u=260,c=60;if(i>=1e3?(u=100,c=100):i<1e3&&i>=900?(u=95,c=95):i<900&&i>=800?(u=85,c=85):i<800&&i>=750?(u=77,c=77):i<750&&i>=700?(u=73,c=73):i<700&&i>=650?(u=67,c=67):i<650&&i>=600?(u=62,c=62):i<600&&i>=550?(u=58,c=58):i<550&&i>=500?(u=51,c=51):i<500&&i>=450?(u=58,c=58):i<450&&i>=400?(u=51,c=51):i<400&&i>=350?(u=46,c=46):i<350&&(u=36,c=36),l.x<r.x+r.width/2){var o=0-r.width/2+l.x+u;a(n,o)}else{var d=0-r.width/2+l.x+c;a(n,d)}}};n.forEach((function(n){var i=n.getAttribute("id");!e.includes(i)&&t&&(n.addEventListener("click",(function(t){return u(t,n,l)})),e.push(i))}));var c=function(t,e){var n=t.getBoundingClientRect(),i=j.current.getBoundingClientRect(),l=i.x+i.width/2-n.width/2+50-170,r=i.x+i.width/2+n.width/2-50-170,s=100;if(e<=1e3&&e>900?(l=i.x+i.width/2-n.width/2+50-100,r=i.x+i.width/2+n.width/2-50-100,s=90):e<=900&&e>800?(l=i.x+i.width/2-n.width/2+50-100,r=i.x+i.width/2+n.width/2-50-100,s=80):e<=800&&e>700?(l=i.x+i.width/2-n.width/2+50-100,r=i.x+i.width/2+n.width/2-50-100,s=70):e<=700&&e>600?(l=i.x+i.width/2-n.width/2+50-80,r=i.x+i.width/2+n.width/2-50-80,s=60):e<=600&&e>500?(l=i.x+i.width/2-n.width/2+20-50,r=i.x+i.width/2+n.width/2-20-50,s=50):e<=500&&e>400?(l=i.x+i.width/2-n.width/2+20-50,r=i.x+i.width/2+n.width/2-20-50,s=40):e<=400&&(l=i.x+i.width/2-n.width/2+20-50,r=i.x+i.width/2+n.width/2-20-50,s=30),n.x>l&&n.x<i.x+i.width/2&&!t.classList.contains(w.itemContactActive)){var u=0-n.width/2+s;a(t,u)}else if(n.x>i.x+i.width/2&&n.x<r&&!t.classList.contains(w.itemContactActive)){var c=0+n.width/2-100;a(t,c)}};return function(){r=null,t&&(F.current=!1,t.removeEventListener("scroll",s)),n.length>0&&(n.forEach((function(t){t.removeEventListener("click",(function(){return u(t,l)}))})),_.current=[])}}}),[r,f]),(0,h.useEffect)((function(){g.current=[],a.length>0?s(e.filter((function(t){return t.title.toLowerCase().includes(a.toLowerCase())}))):s(e)}),[a,e]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("ul",{ref:j,className:[w.listFilms,"listFilmsForGap"].join(" "),children:0===r.length&&0===a.length?(0,m.jsx)("h2",{children:"Right now you don't have any films."}):0!==r.length?r.map((function(t){return(0,m.jsx)("li",{ref:function(t){null===t||g.current.some((function(e){return e.getAttribute("id")===t.getAttribute("id")}))||g.current.push(t)},id:t.id,className:[w.itemContact,"itemContact"].join(" "),children:p===t.id?(0,m.jsx)(L,{film:t}):(0,m.jsx)(B,{film:t,index:r.indexOf(t),id:t.id,activeId:p})},t.id)})):(0,m.jsx)("h2",{children:"Not found any films that meet the search criteria."})}),(0,m.jsx)(h.Suspense,{children:(0,m.jsx)(N.j3,{})})]})},D=n(168),Z=n(7924),C=(0,Z.F4)(i||(i=(0,D.Z)(["\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n"]))),E=Z.ZP.div(l||(l=(0,D.Z)(["\nposition: absolute;\ntop: 50%;\nleft: 50%;\n"]))),k=Z.ZP.div(r||(r=(0,D.Z)(["\n  display: inline-block;\n  position: relative;\n  width: 80px;\n  height: 80px;\n"]))),M=Z.ZP.div(s||(s=(0,D.Z)(["\n  animation: ",' 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n  transform-origin: 40px 40px;\n\n  &:after {\n    content: " ";\n    display: block;\n    position: absolute;\n    width: 7px;\n    height: 7px;\n    border-radius: 50%;\n    background: #000;\n    margin: -4px 0 0 -4px;\n  }\n'])),C),W=(0,Z.ZP)(M)(a||(a=(0,D.Z)(["\n  &:nth-child(1) {\n    animation-delay: -0.036s;\n    &:after {\n      top: 63px;\n      left: 63px;\n    }\n  }\n  &:nth-child(2) {\n    animation-delay: -0.072s;\n    &:after {\n      top: 68px;\n      left: 56px;\n    }\n  }\n  &:nth-child(3) {\n    animation-delay: -0.108s;\n    &:after {\n      top: 71px;\n      left: 48px;\n    }\n  }\n  &:nth-child(4) {\n    animation-delay: -0.144s;\n    &:after {\n      top: 72px;\n      left: 40px;\n    }\n  }\n  &:nth-child(5) {\n    animation-delay: -0.18s;\n    &:after {\n      top: 71px;\n      left: 32px;\n    }\n  }\n  &:nth-child(6) {\n    animation-delay: -0.216s;\n    &:after {\n      top: 68px;\n      left: 24px;\n    }\n  }\n  &:nth-child(7) {\n    animation-delay: -0.252s;\n    &:after {\n      top: 63px;\n      left: 17px;\n    }\n  }\n  &:nth-child(8) {\n    animation-delay: -0.288s;\n    &:after {\n      top: 56px;\n      left: 12px;\n    }\n  }\n"]))),z=function(){return(0,m.jsx)(E,{children:(0,m.jsx)(k,{children:(0,j.Z)(Array(8)).map((function(t,e){return(0,m.jsx)(W,{},e)}))})})},T=function(t){var e=t.allFilms,n=t.title,i=window.innerWidth,l=(0,o.v9)(d.xU),r=(0,o.v9)(d.zt),s=20;return s=i>1e3?50:i>500&&i<=1e3?i/20:i/40,(0,m.jsx)("div",{className:[w.allDivFilmList,"allDivFilmList"].join(" "),children:r||0===e.length?(0,m.jsx)("h2",{children:"Oopsss...Something went wrong..."}):(0,m.jsxs)("div",{id:"divForFilmList",className:w.divForFilmList,style:{paddingLeft:s,paddingRight:s},children:[(0,m.jsx)("h2",{children:n}),l&&!r?(0,m.jsx)(z,{}):(0,m.jsx)(P,{allFilms:e})]})})},G=function(){var t=(0,o.v9)(d.KE),e=(0,o.v9)(d.AD),n=(0,o.v9)(p.$Q),i=(0,o.v9)(p.tT);return(0,m.jsx)(m.Fragment,{children:t.length>0?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(T,{allFilms:t,title:"Catalogue"}),0===e.length&&(0,m.jsxs)(m.Fragment,{children:[i.length>0&&(0,m.jsx)(T,{allFilms:i,title:"My list"}),n.length>0&&(0,m.jsx)(T,{allFilms:n,title:"Viewed"})]})]}):(0,m.jsx)("h2",{style:{padding:"20px"},children:"Oopsss...Something went wrong..."})})},Q=function(){var t=(0,o.I0)(),e=(0,o.v9)(p.rK),n=(0,o.v9)(p.Wu),i=new URLSearchParams(window.location.search).get("token");return(0,h.useEffect)((function(){i?(v.Z.defaults.headers.common.Authorization="Bearer ".concat(i),t((0,y.o4)(i)),t((0,g.cu)()),n&&t((0,_.oe)(n))):e&&(v.Z.defaults.headers.common.Authorization="Bearer ".concat(e),t((0,g.cu)()),n&&t((0,_.oe)(n)))})),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:F,children:(0,m.jsx)(x,{})}),(0,m.jsx)(G,{})]})}}}]);
//# sourceMappingURL=698.4a594125.chunk.js.map