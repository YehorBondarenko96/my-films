"use strict";(self.webpackChunkmy_films=self.webpackChunkmy_films||[]).push([[698],{5720:function(t,e,i){i.d(e,{V:function(){return f}});var n=i(3433),l=i(2791),r=i(4420),s=i(2580),a=i(1087),u={ulButActIt:"ManipButs_ulButActIt__4Oyy0",butActIt:"ManipButs_butActIt__7fb3D",notPlayButPlay:"ManipButs_notPlayButPlay__f-HM6",isPlayButPlay:"ManipButs_isPlayButPlay__vldpW",notFavBut:"ManipButs_notFavBut__z8K6x",isFavBut:"ManipButs_isFavBut__uVQo7",notSelBut:"ManipButs_notSelBut__PA6Pk",isSelBut:"ManipButs_isSelBut__u1Ts5",detBut:"ManipButs_detBut__VBo5a"},c=i(8992),o=i(3628),d=i(781),h=i(184),f=function(t){var e=t.film,i=t.coef,f=(0,r.I0)(),m=(0,r.v9)(s.D5),x=(0,r.v9)(c.$Q),v=(0,r.v9)(c.tT),p=(0,r.v9)(c.eA),y=(0,r.v9)(c.Wu),F=x.some((function(t){return t.id===e.id})),g=v.some((function(t){return t.id===e.id})),_=p.some((function(t){return t.id===e.id})),w=(0,l.useRef)(null),j=(0,l.useRef)(null),b=(0,l.useRef)(null),B=(0,l.useRef)(null),I=(0,l.useRef)(null);return(0,l.useEffect)((function(){var t=m<=1e3?m:1e3;if(w.current&&j.current&&b.current&&B.current&&I.current){var e=w.current,n=j.current,l=b.current,r=B.current,s=I.current;e.style.gap=t/(40*i)+"px",s.style.width=t/(13*i)+"px",s.style.height=t/(13*i)+"px",r.style.width=t/(13*i)+"px",r.style.height=t/(13*i)+"px",n.style.width=t/(13*i)+"px",n.style.height=t/(13*i)+"px",l.style.width=t/(13*i)+"px",l.style.height=t/(13*i)+"px"}})),(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("ul",{ref:w,className:u.ulButActIt,children:[(0,h.jsx)("li",{children:(0,h.jsx)("button",{ref:j,id:e._id,className:[u.butActIt,F?u.isPlayButPlay:u.notPlayButPlay].join(" "),type:"button",onClick:function(){var t=document.querySelector(".listFilmsForGap").scrollLeft;f((0,d.B)(t));var i=[];i=F?x.filter((function(t){return t.id!==e.id})):[].concat((0,n.Z)(x),[e]);var l={id:y,played:i};f((0,o.ug)(l))},children:"Play"})}),(0,h.jsx)("li",{children:(0,h.jsx)("button",{ref:B,type:"button",className:[u.butActIt,g?u.isSelBut:u.notSelBut].join(" "),onClick:function(){var t=document.querySelector(".listFilmsForGap").scrollLeft;f((0,d.B)(t));var i=[];i=g?v.filter((function(t){return t.id!==e.id})):[].concat((0,n.Z)(v),[e]);var l={id:y,selected:i};f((0,o.pM)(l))},children:"Selected"})}),(0,h.jsx)("li",{children:(0,h.jsx)("button",{ref:I,id:e._id,className:[u.butActIt,_?u.isFavBut:u.notFavBut].join(" "),type:"button",onClick:function(){var t=document.querySelector(".listFilmsForGap").scrollLeft;f((0,d.B)(t));var i=[];i=_?p.filter((function(t){return t.id!==e.id})):[].concat((0,n.Z)(p),[e]);var l={id:y,favorite:i};f((0,o.R3)(l))},children:"Favorite"})}),(0,h.jsx)("li",{children:(0,h.jsx)(a.rU,{to:"/films/".concat(e.id),state:{from:window.location.href},children:(0,h.jsx)("button",{ref:b,type:"button",className:[u.butActIt,u.detBut].join(" "),children:"Details"})})})]})})}},7698:function(t,e,i){i.r(e),i.d(e,{default:function(){return Q}});var n,l,r,s,a,u=i(9439),c={labelFilter:"Filter_labelFilter__7SBy1",inputFilter:"Filter_inputFilter__8QMOp"},o=i(4420),d=i(2580),h=i(1473),f=i(2791),m=i(184),x=function(){var t=(0,o.v9)(d.AD),e=(0,o.I0)(),i=(0,f.useState)(""),n=(0,u.Z)(i,2),l=n[0],r=n[1];return(0,f.useEffect)((function(){var t=window.innerWidth;r(t>465?"Please start typing the desired title":t<=465&&t>370?"Please start typing title":"Type title")}),[]),(0,m.jsx)("label",{className:[c.labelFilter,"labelFilter"].join(" "),children:(0,m.jsx)("input",{value:t,className:c.inputFilter,type:"text",name:"filter",placeholder:l,onChange:function(t){t.preventDefault();var i=t.target.value;e((0,h.T)(i))}})})},v=i(5294),p=i(8992),y=i(4751),F="PageUsers_divContFiltPageUsers__JZL5M",g=i(7990),_=i(3628),w={allDivFilmList:"Styles_allDivFilmList__XUI95",divForFilmList:"Styles_divForFilmList__G7Tyo",listFilms:"Styles_listFilms__AYhmo",itemFilm:"Styles_itemFilm__+Dnxk",itemFilmActive:"Styles_itemFilmActive__znSKh",firstDivItemFilm:"Styles_firstDivItemFilm__xWC8B",divItemFilm:"Styles_divItemFilm__IV0CE",divInfoItemFilms:"Styles_divInfoItemFilms__CWndJ",hItemFilmsName:"Styles_hItemFilmsName__Rg9x4",divPItemFilms:"Styles_divPItemFilms__GKm51",pItemFilmsNumber:"Styles_pItemFilmsNumber__HFPPs",buttonFav:"Styles_buttonFav__h0-uQ",notFavBut:"Styles_notFavBut__l2Zp5",isFavBut:"Styles_isFavBut__mZ3Gm"},j=i(3433),b=i(781),B=function(t){var e=t.film,i=t.activeId,n=t.minWidth,l=(0,o.I0)(),r=(0,o.v9)(d.D5),s=(0,o.v9)(p.tT),a=(0,o.v9)(p.Wu),c=(0,f.useState)(!1),h=(0,u.Z)(c,2),x=h[0],v=h[1];(0,f.useEffect)((function(){s&&v(s.some((function(t){return t.id===e.id})))}),[s,e]);var y=(0,f.useRef)(null),F=(0,f.useRef)(null),g=(0,f.useRef)(null),B=(0,f.useRef)(null),I=(0,f.useRef)(null),S=(0,f.useRef)(null);return(0,f.useEffect)((function(){var t=r<=1e3?r:1e3;if(y.current&&F.current&&g.current&&I.current&&S.current&&B.current){var e=y.current,i=F.current,l=g.current,s=B.current,a=I.current,u=S.current;e.style.width=n+"px",e.style.borderRadius=t/88+"px",i.style.borderRadius=t/88+"px",i.style.textShadow=t/500+"px "+t/500+"px "+t/200+"px black",l.style.right=t/44+"px",l.style.width=t/40+"px",l.style.height=t/40+"px",s.style.paddingLeft=t/100+"px",s.style.paddingRight=t/100+"px",a.style.fontSize=t/76+"px",a.style.padding=t/100+"px",a.style.borderRadius="0 0 ".concat(t/88,"px ").concat(t/88,"px"),u.style.marginTop=t/8+"px"}}),[i,r,n]),(0,m.jsx)("div",{ref:y,className:[w.firstDivItemFilm,"firstDivItemFilm"].join(" "),style:{backgroundImage:"url(".concat(e.image,")")},children:(0,m.jsxs)("div",{ref:F,className:[w.divItemFilm,"divItemFilm"].join(" "),children:[(0,m.jsxs)("div",{ref:S,className:w.divInfoItemFilms,children:[(0,m.jsx)("h2",{ref:B,className:w.hItemFilmsName,children:e.title}),(0,m.jsxs)("div",{ref:I,className:w.divPItemFilms,children:[(0,m.jsxs)("p",{className:w.pItemFilmsNumber,children:["Rating: ",e.rating]}),(0,m.jsxs)("p",{className:w.pItemFilmsNumber,children:["Release date: ",function(t){var e=new Date(t),i=e.getDate().toString().padStart(2,"0"),n=(e.getMonth()+1).toString().padStart(2,"0"),l=e.getFullYear();return"".concat(i,".").concat(n,".").concat(l)}(e.release_date)]})]})]}),(0,m.jsx)("button",{ref:g,type:"button",className:[w.buttonFav,x?w.isFavBut:w.notFavBut,"buttonFav"].join(" "),onClick:function(){var t=document.querySelector(".listFilmsForGap").scrollLeft;l((0,b.B)(t));var i=[];i=x?s.filter((function(t){return t.id!==e.id})):[].concat((0,j.Z)(s),[e]);var n={id:a,selected:i};l((0,_.pM)(n))},children:"Favorite"})]})})},I="ActiveItemFilm_allDivActItFilm__QwJY6",S="ActiveItemFilm_infoActIt__kyD-i",A="ActiveItemFilm_hActIt__Js2qS",R=i(5720),L=function(t){var e=t.film,i=t.bigWidth,n=(0,o.v9)(d.D5),l=(0,f.useRef)(null),r=(0,f.useRef)(null);return(0,f.useEffect)((function(){var t=n<=1e3?n:1e3,e=2.3;if(l.current&&r.current){var s=l.current,a=r.current;s.style.borderRadius=t/(44*e)+"px",s.style.width=i+"px",a.style.borderRadius="0 0 ".concat(t/(44*e),"px ").concat(t/(44*e),"px"),a.style.padding=t/(50*e)+"px",a.style.paddingBottom=t/(25*e)+"px"}})),(0,m.jsx)("div",{ref:l,className:I,style:{backgroundImage:"url(".concat(e.image,")")},children:(0,m.jsxs)("div",{ref:r,className:S,children:[(0,m.jsx)("h2",{className:A,children:e.title}),(0,m.jsx)(R.V,{film:e,coef:"2.3"})]})})},N=i(7689),P=function(t){var e=t.allFilms,i=(0,o.I0)(),n=(0,f.useState)(e),l=(0,u.Z)(n,2),r=l[0],s=l[1],a=(0,f.useState)(0),c=(0,u.Z)(a,2),h=c[0],x=c[1],v=(0,f.useState)(0),p=(0,u.Z)(v,2),y=p[0],F=p[1],g=(0,o.v9)(d.AD),_=(0,o.v9)(d.yS),j=(0,o.v9)(d.D5),I=(0,f.useState)(null),S=(0,u.Z)(I,2),A=S[0],R=S[1],P=(0,f.useRef)(!1),Z=(0,f.useRef)([]),D=(0,f.useRef)([]),E=(0,f.useRef)(null);return(0,f.useEffect)((function(){_>0&&E.current&&(setTimeout((function(){E.current.scrollLeft=_}),100),i((0,b.B)(0)))}),[_,i]),(0,f.useEffect)((function(){var t=E.current,e=D.current,i=Z.current,n=3.2,l=window.innerWidth,r=l<=1e3?l:1e3;if(r&&i.length>0){i.forEach((function(t){t.style.height=r/n+"px",t.style.width=r/(1.667*n)+"px",x(r/(1.667*n)),t.style.fontSize=r/(19*n)+"px",t.style.borderRadius=r/70.4+"px",R(null)})),E.current&&(E.current.style.gap=r/32+"px");var s=function(){i.length>0&&i.forEach((function(t){return c(t,l)}))};!P.current&&t&&i&&(P.current=!0,t.addEventListener("scroll",s));var a=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(l=window.innerWidth,(r=l<=1e3?l:1e3)&&i.length>0){var u=i.filter((function(t){return t.getAttribute("id")!==e.getAttribute("id")}));u.forEach((function(t){t.style.height=r/n+"px",t.style.width=r/(1.667*n)+"px",x(r/(1.667*n)),t.style.fontSize=r/(19*n)+"px",t.style.borderRadius=r/140.8+"px",t.classList.remove(w.iFilmActive)})),e.style.height=r/n*1.4+"px",e.style.width=r/(1.667*n)*1.4+"px",F(r/(1.667*n)*1.4),e.style.fontSize=r/(19*n)*1.4+"px",e.style.borderRadius=r/140.8*1.4+"px",e.classList.add(w.iFilmActive),R(e.getAttribute("id"));var c=E.current.scrollLeft;E.current.style.scrollBehavior="smooth",0!==a&&(E.current.scrollLeft=c+a),setTimeout((function(){t&&t.addEventListener("scroll",s)}),500)}},u=function(e,i,n){if(!e.target.classList.contains("buttonFav")){t&&t.removeEventListener("scroll",s);var l=i.getBoundingClientRect(),r=E.current.getBoundingClientRect(),u=260,c=60;if(n>=1e3?(u=100,c=100):n<1e3&&n>=900?(u=95,c=95):n<900&&n>=800?(u=85,c=85):n<800&&n>=750?(u=77,c=77):n<750&&n>=700?(u=73,c=73):n<700&&n>=650?(u=67,c=67):n<650&&n>=600?(u=62,c=62):n<600&&n>=550?(u=58,c=58):n<550&&n>=500?(u=51,c=51):n<500&&n>=450?(u=58,c=58):n<450&&n>=400?(u=51,c=51):n<400&&n>=350?(u=46,c=46):n<350&&(u=36,c=36),l.x<r.x+r.width/2){var o=0-r.width/2+l.x+u;a(i,o)}else{var d=0-r.width/2+l.x+c;a(i,d)}}};i.forEach((function(i){var n=i.getAttribute("id");!e.includes(n)&&t&&(i.addEventListener("click",(function(t){return u(t,i,l)})),e.push(n))}));var c=function(t,e){var i=t.getBoundingClientRect(),n=E.current.getBoundingClientRect(),l=n.x+n.width/2-i.width/2+50-170,r=n.x+n.width/2+i.width/2-50-170,s=100;if(e<=1e3&&e>900?(l=n.x+n.width/2-i.width/2+50-100,r=n.x+n.width/2+i.width/2-50-100,s=90):e<=900&&e>800?(l=n.x+n.width/2-i.width/2+50-100,r=n.x+n.width/2+i.width/2-50-100,s=80):e<=800&&e>700?(l=n.x+n.width/2-i.width/2+50-100,r=n.x+n.width/2+i.width/2-50-100,s=70):e<=700&&e>600?(l=n.x+n.width/2-i.width/2+50-80,r=n.x+n.width/2+i.width/2-50-80,s=60):e<=600&&e>500?(l=n.x+n.width/2-i.width/2+20-50,r=n.x+n.width/2+i.width/2-20-50,s=50):e<=500&&e>400?(l=n.x+n.width/2-i.width/2+20-50,r=n.x+n.width/2+i.width/2-20-50,s=40):e<=400&&(l=n.x+n.width/2-i.width/2+20-50,r=n.x+n.width/2+i.width/2-20-50,s=30),i.x>l&&i.x<n.x+n.width/2&&!t.classList.contains(w.itemContactActive)){var u=0-i.width/2+s;a(t,u)}else if(i.x>n.x+n.width/2&&i.x<r&&!t.classList.contains(w.itemContactActive)){var c=0+i.width/2-100;a(t,c)}};return function(){r=null,t&&(P.current=!1,t.removeEventListener("scroll",s)),i.length>0&&(i.forEach((function(t){t.removeEventListener("click",(function(){return u(t,l)}))})),D.current=[])}}}),[r,j]),(0,f.useEffect)((function(){Z.current=[],g.length>0?s(e.filter((function(t){return t.title.toLowerCase().includes(g.toLowerCase())}))):s(e)}),[g,e]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("ul",{ref:E,className:[w.listFilms,"listFilmsForGap"].join(" "),children:0===r.length&&0===g.length?(0,m.jsx)("h2",{children:"Right now you don't have any films."}):0!==r.length?r.map((function(t){return(0,m.jsx)("li",{ref:function(t){null===t||Z.current.some((function(e){return e.getAttribute("id")===t.getAttribute("id")}))||Z.current.push(t)},id:t.id,className:[w.itemFilm,"itemContact"].join(" "),children:A===t.id?(0,m.jsx)(L,{film:t,bigWidth:y}):(0,m.jsx)(B,{film:t,index:r.indexOf(t),id:t.id,activeId:A,minWidth:h})},t.id)})):(0,m.jsx)("h2",{children:"Not found any films that meet the search criteria."})}),(0,m.jsx)(f.Suspense,{children:(0,m.jsx)(N.j3,{})})]})},Z=i(168),D=i(7924),E=(0,D.F4)(n||(n=(0,Z.Z)(["\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n"]))),C=D.ZP.div(l||(l=(0,Z.Z)(["\nposition: absolute;\ntop: 50%;\nleft: 50%;\n"]))),k=D.ZP.div(r||(r=(0,Z.Z)(["\n  display: inline-block;\n  position: relative;\n  width: 80px;\n  height: 80px;\n"]))),M=D.ZP.div(s||(s=(0,Z.Z)(["\n  animation: ",' 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n  transform-origin: 40px 40px;\n\n  &:after {\n    content: " ";\n    display: block;\n    position: absolute;\n    width: 7px;\n    height: 7px;\n    border-radius: 50%;\n    background: #000;\n    margin: -4px 0 0 -4px;\n  }\n'])),E),W=(0,D.ZP)(M)(a||(a=(0,Z.Z)(["\n  &:nth-child(1) {\n    animation-delay: -0.036s;\n    &:after {\n      top: 63px;\n      left: 63px;\n    }\n  }\n  &:nth-child(2) {\n    animation-delay: -0.072s;\n    &:after {\n      top: 68px;\n      left: 56px;\n    }\n  }\n  &:nth-child(3) {\n    animation-delay: -0.108s;\n    &:after {\n      top: 71px;\n      left: 48px;\n    }\n  }\n  &:nth-child(4) {\n    animation-delay: -0.144s;\n    &:after {\n      top: 72px;\n      left: 40px;\n    }\n  }\n  &:nth-child(5) {\n    animation-delay: -0.18s;\n    &:after {\n      top: 71px;\n      left: 32px;\n    }\n  }\n  &:nth-child(6) {\n    animation-delay: -0.216s;\n    &:after {\n      top: 68px;\n      left: 24px;\n    }\n  }\n  &:nth-child(7) {\n    animation-delay: -0.252s;\n    &:after {\n      top: 63px;\n      left: 17px;\n    }\n  }\n  &:nth-child(8) {\n    animation-delay: -0.288s;\n    &:after {\n      top: 56px;\n      left: 12px;\n    }\n  }\n"]))),z=function(){return(0,m.jsx)(C,{children:(0,m.jsx)(k,{children:(0,j.Z)(Array(8)).map((function(t,e){return(0,m.jsx)(W,{},e)}))})})},T=function(t){var e=t.allFilms,i=t.title,n=window.innerWidth,l=(0,o.v9)(d.xU),r=(0,o.v9)(d.zt),s=20;return s=n>1e3?50:n>500&&n<=1e3?n/20:n/40,(0,m.jsx)("div",{className:[w.allDivFilmList,"allDivFilmList"].join(" "),children:r||0===e.length?(0,m.jsx)("h2",{children:"Oopsss...Something went wrong..."}):(0,m.jsxs)("div",{id:"divForFilmList",className:w.divForFilmList,style:{paddingLeft:s,paddingRight:s},children:[(0,m.jsx)("h2",{children:i}),l&&!r?(0,m.jsx)(z,{}):(0,m.jsx)(P,{allFilms:e})]})})},G=function(){var t=(0,o.v9)(d.KE),e=(0,o.v9)(d.AD),i=(0,o.v9)(p.$Q),n=(0,o.v9)(p.tT),l=(0,o.v9)(p.eA);return(0,m.jsx)(m.Fragment,{children:t.length>0?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(T,{allFilms:t,title:"Catalogue"}),0===e.length&&(0,m.jsxs)(m.Fragment,{children:[n.length>0&&(0,m.jsx)(T,{allFilms:n,title:"My list"}),i.length>0&&(0,m.jsx)(T,{allFilms:i,title:"Viewed"}),l.length>0&&(0,m.jsx)(T,{allFilms:l,title:"Favorites"})]})]}):(0,m.jsx)("h2",{style:{padding:"20px"},children:"Oopsss...Something went wrong..."})})},Q=function(){var t=(0,o.I0)(),e=(0,o.v9)(p.rK),i=(0,o.v9)(p.Wu),n=new URLSearchParams(window.location.search).get("token");return(0,f.useEffect)((function(){n?(v.Z.defaults.headers.common.Authorization="Bearer ".concat(n),t((0,y.o4)(n)),t((0,g.cu)()),i&&t((0,_.oe)(i))):e&&(v.Z.defaults.headers.common.Authorization="Bearer ".concat(e),t((0,g.cu)()),i&&t((0,_.oe)(i)))})),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:F,children:(0,m.jsx)(x,{})}),(0,m.jsx)(G,{})]})}}}]);
//# sourceMappingURL=698.d078abd6.chunk.js.map