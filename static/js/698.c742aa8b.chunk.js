"use strict";(self.webpackChunkmy_films=self.webpackChunkmy_films||[]).push([[698],{5720:function(t,e,n){n.d(e,{V:function(){return m}});var i=n(3433),l=n(9439),r=n(2791),s=n(4420),a=n(2580),u=n(1087),c={ulButActIt:"ManipButs_ulButActIt__4Oyy0",butActIt:"ManipButs_butActIt__7fb3D",notPlayButPlay:"ManipButs_notPlayButPlay__f-HM6",isPlayButPlay:"ManipButs_isPlayButPlay__vldpW",notFavBut:"ManipButs_notFavBut__z8K6x",isFavBut:"ManipButs_isFavBut__uVQo7",notSelBut:"ManipButs_notSelBut__PA6Pk",isSelBut:"ManipButs_isSelBut__u1Ts5",detBut:"ManipButs_detBut__VBo5a",detInfoOpen:"ManipButs_detInfoOpen__orWmd"},o=n(8992),d=n(3628),f=n(781),h=n(184),m=function(t){var e=t.film,n=t.coef,m=(0,s.I0)(),x=(0,s.v9)(a.D5),v=(0,s.v9)(o.$Q),p=(0,s.v9)(o.tT),F=(0,s.v9)(o.eA),y=(0,s.v9)(o.Wu),g=(0,r.useState)(!1),_=(0,l.Z)(g,2),w=_[0],j=_[1],b=(0,r.useState)(null),B=(0,l.Z)(b,2),I=B[0],S=B[1],A=v.some((function(t){return t.id===e.id})),R=p.some((function(t){return t.id===e.id})),L=F.some((function(t){return t.id===e.id})),N=(0,r.useRef)(null),P=(0,r.useRef)(null),Z=(0,r.useRef)(null),E=(0,r.useRef)(null),D=(0,r.useRef)(null);return(0,r.useEffect)((function(){var t=x<=1e3?x:1e3;if(N.current&&P.current&&Z.current&&E.current&&D.current){var e=N.current,i=P.current,l=Z.current,r=E.current,s=D.current;e.style.gap=t/(40*n)+"px",s.style.width=t/(13*n)+"px",s.style.height=t/(13*n)+"px",r.style.width=t/(13*n)+"px",r.style.height=t/(13*n)+"px",i.style.width=t/(13*n)+"px",i.style.height=t/(13*n)+"px",l.style.width=t/(13*n)+"px",l.style.height=t/(13*n)+"px"}})),(0,r.useEffect)((function(){var t=window.location.href.split("/");if(""===t[t.length-1]&&t.pop(),"films"===t[t.length-1])j(!1),S("/films/".concat(e.id));else{j(!0),t.pop();var n=t.join("/");S(n)}}),[j,e]),(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("ul",{ref:N,className:c.ulButActIt,children:[(0,h.jsx)("li",{children:(0,h.jsx)("button",{ref:P,id:e._id,className:[c.butActIt,A?c.isPlayButPlay:c.notPlayButPlay].join(" "),type:"button",onClick:function(){var t=document.querySelector(".listFilmsForGap").scrollLeft;m((0,f.B)(t));var n=[];n=A?v.filter((function(t){return t.id!==e.id})):[].concat((0,i.Z)(v),[e]);var l={id:y,played:n};m((0,d.ug)(l))},children:"Play"})}),(0,h.jsx)("li",{children:(0,h.jsx)("button",{ref:E,type:"button",className:[c.butActIt,R?c.isSelBut:c.notSelBut].join(" "),onClick:function(){var t=document.querySelector(".listFilmsForGap").scrollLeft;m((0,f.B)(t));var n=[];n=R?p.filter((function(t){return t.id!==e.id})):[].concat((0,i.Z)(p),[e]);var l={id:y,selected:n};m((0,d.pM)(l))},children:"Selected"})}),(0,h.jsx)("li",{children:(0,h.jsx)("button",{ref:D,id:e._id,className:[c.butActIt,L?c.isFavBut:c.notFavBut].join(" "),type:"button",onClick:function(){var t=document.querySelector(".listFilmsForGap").scrollLeft;m((0,f.B)(t));var n=[];n=L?F.filter((function(t){return t.id!==e.id})):[].concat((0,i.Z)(F),[e]);var l={id:y,favorite:n};m((0,d.R3)(l))},children:"Favorite"})}),(0,h.jsx)("li",{children:(0,h.jsx)(u.rU,{to:I,state:{from:window.location.href},children:(0,h.jsx)("button",{ref:Z,type:"button",className:[c.butActIt,c.detBut,w&&c.detInfoOpen].join(" "),onClick:function(){var t=document.querySelector(".listFilmsForGap").scrollLeft;m((0,f.B)(t))},children:"Details"})})})]})})}},7698:function(t,e,n){n.r(e),n.d(e,{default:function(){return O}});var i,l,r,s,a,u=n(9439),c={labelFilter:"Filter_labelFilter__7SBy1",inputFilter:"Filter_inputFilter__8QMOp"},o=n(4420),d=n(2580),f=n(1473),h=n(2791),m=n(184),x=function(){var t=(0,o.v9)(d.AD),e=(0,o.I0)(),n=(0,h.useState)(""),i=(0,u.Z)(n,2),l=i[0],r=i[1];return(0,h.useEffect)((function(){var t=window.innerWidth;r(t>465?"Please start typing the desired title":t<=465&&t>370?"Please start typing title":"Type title")}),[]),(0,m.jsx)("label",{className:[c.labelFilter,"labelFilter"].join(" "),children:(0,m.jsx)("input",{value:t,className:c.inputFilter,type:"text",name:"filter",placeholder:l,onChange:function(t){t.preventDefault();var n=t.target.value;e((0,f.T)(n))}})})},v=n(5294),p=n(8992),F=n(4751),y="PageUsers_divContFiltPageUsers__JZL5M",g=n(7990),_=n(3628),w={allDivFilmList:"Styles_allDivFilmList__XUI95",divForFilmList:"Styles_divForFilmList__G7Tyo",listFilms:"Styles_listFilms__AYhmo",itemFilm:"Styles_itemFilm__+Dnxk",itemFilmActive:"Styles_itemFilmActive__znSKh",firstDivItemFilm:"Styles_firstDivItemFilm__xWC8B",divItemFilm:"Styles_divItemFilm__IV0CE",divInfoItemFilms:"Styles_divInfoItemFilms__CWndJ",hItemFilmsName:"Styles_hItemFilmsName__Rg9x4",divPItemFilms:"Styles_divPItemFilms__GKm51",pItemFilmsNumber:"Styles_pItemFilmsNumber__HFPPs",buttonFav:"Styles_buttonFav__h0-uQ",notFavBut:"Styles_notFavBut__l2Zp5",isFavBut:"Styles_isFavBut__mZ3Gm"},j=n(3433),b=n(781),B=function(t){var e=t.film,n=t.activeId,i=t.minWidth,l=(0,o.I0)(),r=(0,o.v9)(d.D5),s=(0,o.v9)(p.tT),a=(0,o.v9)(p.Wu),c=(0,h.useState)(!1),f=(0,u.Z)(c,2),x=f[0],v=f[1];(0,h.useEffect)((function(){s&&v(s.some((function(t){return t.id===e.id})))}),[s,e]);var F=(0,h.useRef)(null),y=(0,h.useRef)(null),g=(0,h.useRef)(null),B=(0,h.useRef)(null),I=(0,h.useRef)(null),S=(0,h.useRef)(null);return(0,h.useEffect)((function(){var t=r<=1e3?r:1e3;if(F.current&&y.current&&g.current&&I.current&&S.current&&B.current){var e=F.current,n=y.current,l=g.current,s=B.current,a=I.current,u=S.current;e.style.width=i+"px",e.style.borderRadius=t/88+"px",n.style.borderRadius=t/88+"px",n.style.textShadow=t/500+"px "+t/500+"px "+t/200+"px black",l.style.right=t/44+"px",l.style.width=t/40+"px",l.style.height=t/40+"px",s.style.paddingLeft=t/100+"px",s.style.paddingRight=t/100+"px",a.style.fontSize=t/76+"px",a.style.padding=t/100+"px",a.style.borderRadius="0 0 ".concat(t/88,"px ").concat(t/88,"px"),u.style.marginTop=t/8+"px"}}),[n,r,i]),(0,m.jsx)("div",{ref:F,className:[w.firstDivItemFilm,"firstDivItemFilm"].join(" "),style:{backgroundImage:"url(".concat(e.image,")")},children:(0,m.jsxs)("div",{ref:y,className:[w.divItemFilm,"divItemFilm"].join(" "),children:[(0,m.jsxs)("div",{ref:S,className:w.divInfoItemFilms,children:[(0,m.jsx)("h2",{ref:B,className:w.hItemFilmsName,children:e.title}),(0,m.jsxs)("div",{ref:I,className:w.divPItemFilms,children:[(0,m.jsxs)("p",{className:w.pItemFilmsNumber,children:["Rating: ",e.rating]}),(0,m.jsxs)("p",{className:w.pItemFilmsNumber,children:["Release date: ",function(t){var e=new Date(t),n=e.getDate().toString().padStart(2,"0"),i=(e.getMonth()+1).toString().padStart(2,"0"),l=e.getFullYear();return"".concat(n,".").concat(i,".").concat(l)}(e.release_date)]})]})]}),(0,m.jsx)("button",{ref:g,type:"button",className:[w.buttonFav,x?w.isFavBut:w.notFavBut,"buttonFav"].join(" "),onClick:function(){var t=document.querySelector(".listFilmsForGap").scrollLeft;l((0,b.B)(t));var n=[];n=x?s.filter((function(t){return t.id!==e.id})):[].concat((0,j.Z)(s),[e]);var i={id:a,selected:n};l((0,_.pM)(i))},children:"Favorite"})]})})},I="ActiveItemFilm_allDivActItFilm__QwJY6",S="ActiveItemFilm_infoActIt__kyD-i",A="ActiveItemFilm_hActIt__Js2qS",R=n(5720),L=function(t){var e=t.film,n=t.bigWidth,i=(0,o.v9)(d.D5),l=(0,h.useRef)(null),r=(0,h.useRef)(null);return(0,h.useEffect)((function(){var t=i<=1e3?i:1e3,e=2.3;if(l.current&&r.current){var s=l.current,a=r.current;s.style.borderRadius=t/(44*e)+"px",s.style.width=n+"px",a.style.borderRadius="0 0 ".concat(t/(44*e),"px ").concat(t/(44*e),"px"),a.style.padding=t/(50*e)+"px",a.style.paddingBottom=t/(25*e)+"px"}})),(0,m.jsx)("div",{ref:l,className:I,style:{backgroundImage:"url(".concat(e.image,")")},children:(0,m.jsxs)("div",{ref:r,className:S,children:[(0,m.jsx)("h2",{className:A,children:e.title}),(0,m.jsx)(R.V,{film:e,coef:"2.3"})]})})},N=n(7689),P=function(t){var e=t.allFilms,n=(0,o.I0)(),i=(0,h.useState)(e),l=(0,u.Z)(i,2),r=l[0],s=l[1],a=(0,h.useState)(0),c=(0,u.Z)(a,2),f=c[0],x=c[1],v=(0,h.useState)(0),p=(0,u.Z)(v,2),F=p[0],y=p[1],g=(0,o.v9)(d.AD),_=(0,o.v9)(d.yS),j=(0,o.v9)(d.D5),I=(0,h.useState)(null),S=(0,u.Z)(I,2),A=S[0],R=S[1],P=(0,h.useRef)(!1),Z=(0,h.useRef)([]),E=(0,h.useRef)([]),D=(0,h.useRef)(null);return(0,h.useEffect)((function(){_>0&&D.current&&(setTimeout((function(){D.current.scrollLeft=_}),100),n((0,b.B)(0)))}),[_,n]),(0,h.useEffect)((function(){var t=D.current,e=E.current,n=Z.current,i=3.2,l=window.innerWidth,r=l<=1e3?l:1e3;if(r&&n.length>0){n.forEach((function(t){t.style.height=r/i+"px",t.style.width=r/(1.667*i)+"px",x(r/(1.667*i)),t.style.fontSize=r/(19*i)+"px",t.style.borderRadius=r/70.4+"px",R(null)})),D.current&&(D.current.style.gap=r/32+"px");var s=function(){n.length>0&&n.forEach((function(t){return c(t,l)}))};!P.current&&t&&n&&(P.current=!0,t.addEventListener("scroll",s));var a=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(l=window.innerWidth,(r=l<=1e3?l:1e3)&&n.length>0){var u=Z.current.filter((function(t){return t.getAttribute("id")!==e.getAttribute("id")}));u.forEach((function(t){t.style.height=r/i+"px",t.style.width=r/(1.667*i)+"px",x(r/(1.667*i)),t.style.fontSize=r/(19*i)+"px",t.style.borderRadius=r/140.8+"px",t.classList.remove(w.iFilmActive)})),e.style.height=r/i*1.4+"px",e.style.width=r/(1.667*i)*1.4+"px",y(r/(1.667*i)*1.4),e.style.fontSize=r/(19*i)*1.4+"px",e.style.borderRadius=r/140.8*1.4+"px",e.classList.add(w.iFilmActive),R(e.getAttribute("id"));var c=D.current.scrollLeft;D.current.style.scrollBehavior="smooth",0!==a&&setTimeout((function(){D.current.scrollLeft=c+a}),0),setTimeout((function(){t&&t.addEventListener("scroll",s)}),500)}},u=function(e,n,i){if(!e.target.classList.contains("buttonFav")){t&&t.removeEventListener("scroll",s);var l=n.getBoundingClientRect(),r=D.current.getBoundingClientRect(),u=260,c=60;if(i>=1e3?(u=100,c=100):i<1e3&&i>=900?(u=95,c=95):i<900&&i>=800?(u=85,c=85):i<800&&i>=750?(u=77,c=77):i<750&&i>=700?(u=73,c=73):i<700&&i>=650?(u=67,c=67):i<650&&i>=600?(u=62,c=62):i<600&&i>=550?(u=58,c=58):i<550&&i>=500?(u=51,c=51):i<500&&i>=450?(u=58,c=58):i<450&&i>=400?(u=51,c=51):i<400&&i>=350?(u=46,c=46):i<350&&(u=36,c=36),l.x<r.x+r.width/2){var o=0-r.width/2+l.x+u;a(n,o)}else{var d=0-r.width/2+l.x+c;a(n,d)}}};n.forEach((function(n){var i=n.getAttribute("id");!e.includes(i)&&t&&(n.addEventListener("click",(function(t){return u(t,n,l)})),e.push(i))}));var c=function(t,e){var n=t.getBoundingClientRect(),i=D.current.getBoundingClientRect(),l=i.x+i.width/2-n.width/2+50-170,r=i.x+i.width/2+n.width/2-50-170,s=100;if(e<=1e3&&e>900?(l=i.x+i.width/2-n.width/2+50-100,r=i.x+i.width/2+n.width/2-50-100,s=90):e<=900&&e>800?(l=i.x+i.width/2-n.width/2+50-100,r=i.x+i.width/2+n.width/2-50-100,s=80):e<=800&&e>700?(l=i.x+i.width/2-n.width/2+50-100,r=i.x+i.width/2+n.width/2-50-100,s=70):e<=700&&e>600?(l=i.x+i.width/2-n.width/2+50-80,r=i.x+i.width/2+n.width/2-50-80,s=60):e<=600&&e>500?(l=i.x+i.width/2-n.width/2+20-50,r=i.x+i.width/2+n.width/2-20-50,s=50):e<=500&&e>400?(l=i.x+i.width/2-n.width/2+20-50,r=i.x+i.width/2+n.width/2-20-50,s=40):e<=400&&(l=i.x+i.width/2-n.width/2+20-50,r=i.x+i.width/2+n.width/2-20-50,s=30),n.x>l&&n.x<i.x+i.width/2&&!t.classList.contains(w.itemContactActive)){var u=0-n.width/2+s;a(t,u)}else if(n.x>i.x+i.width/2&&n.x<r&&!t.classList.contains(w.itemContactActive)){var c=0+n.width/2-100;a(t,c)}};return function(){r=null,t&&(P.current=!1,t.removeEventListener("scroll",s)),n.length>0&&(n.forEach((function(t){t.removeEventListener("click",(function(){return u(t,l)}))})),E.current=[])}}}),[r,j]),(0,h.useEffect)((function(){Z.current=[],g.length>0?s(e.filter((function(t){return t.title.toLowerCase().includes(g.toLowerCase())}))):s(e)}),[g,e]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("ul",{ref:D,className:[w.listFilms,"listFilmsForGap"].join(" "),children:0===r.length&&0===g.length?(0,m.jsx)("h2",{children:"Right now you don't have any films."}):0!==r.length?r.map((function(t){return(0,m.jsx)("li",{ref:function(t){null===t||Z.current.some((function(e){return e.getAttribute("id")===t.getAttribute("id")}))||Z.current.push(t)},id:t.id,className:[w.itemFilm,"itemContact"].join(" "),children:A===t.id?(0,m.jsx)(L,{film:t,bigWidth:F}):(0,m.jsx)(B,{film:t,index:r.indexOf(t),id:t.id,activeId:A,minWidth:f})},t.id)})):(0,m.jsx)("h2",{children:"Not found any films that meet the search criteria."})}),(0,m.jsx)(h.Suspense,{children:(0,m.jsx)(N.j3,{})})]})},Z=n(168),E=n(7924),D=(0,E.F4)(i||(i=(0,Z.Z)(["\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n"]))),C=E.ZP.div(l||(l=(0,Z.Z)(["\nposition: absolute;\ntop: 50%;\nleft: 50%;\n"]))),k=E.ZP.div(r||(r=(0,Z.Z)(["\n  display: inline-block;\n  position: relative;\n  width: 80px;\n  height: 80px;\n"]))),M=E.ZP.div(s||(s=(0,Z.Z)(["\n  animation: ",' 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n  transform-origin: 40px 40px;\n\n  &:after {\n    content: " ";\n    display: block;\n    position: absolute;\n    width: 7px;\n    height: 7px;\n    border-radius: 50%;\n    background: #FFFFFF;\n    margin: -4px 0 0 -4px;\n  }\n'])),D),W=(0,E.ZP)(M)(a||(a=(0,Z.Z)(["\n  &:nth-child(1) {\n    animation-delay: -0.036s;\n    &:after {\n      top: 63px;\n      left: 63px;\n    }\n  }\n  &:nth-child(2) {\n    animation-delay: -0.072s;\n    &:after {\n      top: 68px;\n      left: 56px;\n    }\n  }\n  &:nth-child(3) {\n    animation-delay: -0.108s;\n    &:after {\n      top: 71px;\n      left: 48px;\n    }\n  }\n  &:nth-child(4) {\n    animation-delay: -0.144s;\n    &:after {\n      top: 72px;\n      left: 40px;\n    }\n  }\n  &:nth-child(5) {\n    animation-delay: -0.18s;\n    &:after {\n      top: 71px;\n      left: 32px;\n    }\n  }\n  &:nth-child(6) {\n    animation-delay: -0.216s;\n    &:after {\n      top: 68px;\n      left: 24px;\n    }\n  }\n  &:nth-child(7) {\n    animation-delay: -0.252s;\n    &:after {\n      top: 63px;\n      left: 17px;\n    }\n  }\n  &:nth-child(8) {\n    animation-delay: -0.288s;\n    &:after {\n      top: 56px;\n      left: 12px;\n    }\n  }\n"]))),T=function(){return(0,m.jsx)(C,{children:(0,m.jsx)(k,{children:(0,j.Z)(Array(8)).map((function(t,e){return(0,m.jsx)(W,{},e)}))})})},z=function(t){var e=t.allFilms,n=t.title,i=window.innerWidth,l=(0,o.v9)(d.xU),r=(0,o.v9)(d.zt),s=(0,h.useState)(1),a=(0,u.Z)(s,2),c=a[0],f=a[1];(0,h.useEffect)((function(){f((function(t){return t+1}))}),[e]);var x=20;return x=i>1e3?50:i>500&&i<=1e3?i/20:i/40,(0,m.jsx)("div",{className:[w.allDivFilmList,"allDivFilmList"].join(" "),children:r||0===e.length?(0,m.jsx)("h2",{children:"Oopsss...Something went wrong..."}):(0,m.jsxs)("div",{id:"divForFilmList",className:w.divForFilmList,style:{paddingLeft:x,paddingRight:x},children:[(0,m.jsx)("h2",{children:n}),l&&!r?(0,m.jsx)(T,{}):(0,m.jsx)(P,{allFilms:e},c)]})})},G=function(){var t=(0,o.v9)(d.KE),e=(0,o.v9)(d.AD),n=(0,o.v9)(p.$Q),i=(0,o.v9)(p.tT),l=(0,o.v9)(p.eA),r=(0,o.v9)(d.xU);return(0,m.jsx)(m.Fragment,{children:r?(0,m.jsx)(T,{}):(0,m.jsx)(m.Fragment,{children:t&&t.length>0?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(z,{allFilms:t,title:"Catalogue"}),0===e.length&&(0,m.jsxs)(m.Fragment,{children:[i&&i.length>0&&(0,m.jsx)(z,{allFilms:i,title:"My list"}),n&&n.length>0&&(0,m.jsx)(z,{allFilms:n,title:"Viewed"}),l&&l.length>0&&(0,m.jsx)(z,{allFilms:l,title:"Favorites"})]})]}):(0,m.jsx)("h2",{style:{padding:"20px"},children:"Oopsss...Something went wrong..."})})})},O=function(){var t=(0,o.I0)(),e=(0,o.v9)(p.rK),n=(0,o.v9)(p.Wu),i=new URLSearchParams(window.location.search).get("token");return(0,h.useEffect)((function(){i?(v.Z.defaults.headers.common.Authorization="Bearer ".concat(i),t((0,F.o4)(i)),t((0,g.cu)()),n&&t((0,_.oe)(n))):e&&(v.Z.defaults.headers.common.Authorization="Bearer ".concat(e),t((0,g.cu)()),n&&t((0,_.oe)(n)))})),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:y,children:(0,m.jsx)(x,{})}),(0,m.jsx)(G,{})]})}}}]);
//# sourceMappingURL=698.c742aa8b.chunk.js.map