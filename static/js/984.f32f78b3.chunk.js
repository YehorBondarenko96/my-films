"use strict";(self.webpackChunkmy_films=self.webpackChunkmy_films||[]).push([[984],{5720:function(t,e,n){n.d(e,{V:function(){return h}});var i=n(3433),l=n(2791),r=n(4420),s=n(2580),a=n(1087),u={ulButActIt:"ManipButs_ulButActIt__4Oyy0",butActIt:"ManipButs_butActIt__7fb3D",notPlayButPlay:"ManipButs_notPlayButPlay__f-HM6",isPlayButPlay:"ManipButs_isPlayButPlay__vldpW",buttonDelete:"ManipButs_buttonDelete__4OWj+",notFavBut:"ManipButs_notFavBut__z8K6x",isFavBut:"ManipButs_isFavBut__uVQo7",detBut:"ManipButs_detBut__VBo5a"},c=n(8992),o=n(3628),d=n(781),f=n(184),h=function(t){var e=t.film,n=t.coef,h=(0,r.I0)(),m=(0,r.v9)(s.D5),x=(0,r.v9)(c.$Q),v=(0,r.v9)(c.tT),p=(0,r.v9)(c.Wu),y=x.some((function(t){return t.id===e.id})),F=v.some((function(t){return t.id===e.id})),_=(0,l.useRef)(null),g=(0,l.useRef)(null),w=(0,l.useRef)(null),b=(0,l.useRef)(null),j=(0,l.useRef)(null);return(0,l.useEffect)((function(){var t=m<=1e3?m:1e3;if(_.current&&g.current&&w.current&&b.current&&j.current){var e=_.current,i=g.current,l=w.current,r=b.current,s=j.current;e.style.gap=t/(40*n)+"px",s.style.width=t/(13*n)+"px",s.style.height=t/(13*n)+"px",r.style.width=t/(13*n)+"px",r.style.height=t/(13*n)+"px",i.style.width=t/(13*n)+"px",i.style.height=t/(13*n)+"px",l.style.width=t/(13*n)+"px",l.style.height=t/(13*n)+"px"}})),(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("ul",{ref:_,className:u.ulButActIt,children:[(0,f.jsx)("li",{children:(0,f.jsx)("button",{ref:g,id:e._id,className:[u.butActIt,y?u.isPlayButPlay:u.notPlayButPlay].join(" "),type:"button",onClick:function(){var t=document.querySelector(".listFilmsForGap").scrollLeft;h((0,d.B)(t));var n=[];n=y?x.filter((function(t){return t.id!==e.id})):[].concat((0,i.Z)(x),[e]);var l={id:p,played:n};h((0,o.ug)(l))},children:"Play"})}),(0,f.jsx)("li",{children:(0,f.jsx)("button",{ref:b,type:"button",className:[u.butActIt,F?u.isFavBut:u.notFavBut].join(" "),onClick:function(){var t=document.querySelector(".listFilmsForGap").scrollLeft;h((0,d.B)(t));var n=[];n=F?v.filter((function(t){return t.id!==e.id})):[].concat((0,i.Z)(v),[e]);var l={id:p,selected:n};h((0,o.pM)(l))},children:"Selected"})}),(0,f.jsx)("li",{children:(0,f.jsx)(a.rU,{to:"/films/".concat(e.id),state:{from:window.location.href},children:(0,f.jsx)("button",{ref:w,type:"button",className:[u.butActIt,u.detBut].join(" "),children:"Details"})})}),(0,f.jsx)("li",{children:(0,f.jsx)("button",{ref:j,id:e._id,className:[u.butActIt,u.buttonDelete].join(" "),type:"button",children:"Delete"})})]})})}},7984:function(t,e,n){n.r(e),n.d(e,{default:function(){return T}});var i,l,r,s,a,u=n(9439),c={labelFilter:"Filter_labelFilter__7SBy1",inputFilter:"Filter_inputFilter__8QMOp"},o=n(4420),d=n(2580),f=n(1473),h=n(2791),m=n(184),x=function(){var t=(0,o.v9)(d.AD),e=(0,o.I0)(),n=(0,h.useState)(""),i=(0,u.Z)(n,2),l=i[0],r=i[1];return(0,h.useEffect)((function(){var t=window.innerWidth;r(t>465?"Please start typing the desired title":t<=465&&t>370?"Please start typing title":"Type title")}),[]),(0,m.jsx)("label",{className:[c.labelFilter,"labelFilter"].join(" "),children:(0,m.jsx)("input",{value:t,className:c.inputFilter,type:"text",name:"filter",placeholder:l,onChange:function(t){t.preventDefault();var n=t.target.value;e((0,f.T)(n))}})})},v={allDivFilmList:"Styles_allDivFilmList__XUI95",divForFilmList:"Styles_divForFilmList__G7Tyo",listFilms:"Styles_listFilms__AYhmo",itemFilm:"Styles_itemFilm__+Dnxk",itemFilmActive:"Styles_itemFilmActive__znSKh",firstDivItemFilm:"Styles_firstDivItemFilm__xWC8B",divItemFilm:"Styles_divItemFilm__IV0CE",divInfoItemFilms:"Styles_divInfoItemFilms__CWndJ",hItemFilmsName:"Styles_hItemFilmsName__Rg9x4",divPItemFilms:"Styles_divPItemFilms__GKm51",pItemFilmsNumber:"Styles_pItemFilmsNumber__HFPPs",buttonFav:"Styles_buttonFav__h0-uQ",notFavBut:"Styles_notFavBut__l2Zp5",isFavBut:"Styles_isFavBut__mZ3Gm"},p=n(3433),y=n(781),F=n(8992),_=n(3628),g=function(t){var e=t.film,n=t.activeId,i=(0,o.I0)(),l=(0,o.v9)(d.D5),r=(0,o.v9)(F.tT),s=(0,o.v9)(F.Wu),a=(0,h.useState)(!1),c=(0,u.Z)(a,2),f=c[0],x=c[1];(0,h.useEffect)((function(){r&&x(r.some((function(t){return t.id===e.id})))}),[r,e]);var g=(0,h.useRef)(null),w=(0,h.useRef)(null),b=(0,h.useRef)(null),j=(0,h.useRef)(null),I=(0,h.useRef)(null),B=(0,h.useRef)(null);return(0,h.useEffect)((function(){var t=l<=1e3?l:1e3;if(g.current&&w.current&&b.current&&I.current&&B.current&&j.current){var e=g.current,n=w.current,i=b.current,r=j.current,s=I.current,a=B.current;e.style.borderRadius=t/88+"px",n.style.borderRadius=t/88+"px",n.style.textShadow=t/500+"px "+t/500+"px "+t/200+"px black",i.style.right=t/44+"px",i.style.width=t/40+"px",i.style.height=t/40+"px",r.style.paddingLeft=t/100+"px",r.style.paddingRight=t/100+"px",s.style.fontSize=t/76+"px",s.style.padding=t/100+"px",s.style.borderRadius="0 0 ".concat(t/88,"px ").concat(t/88,"px"),a.style.marginTop=t/8+"px"}}),[n,l]),(0,m.jsx)("div",{ref:g,className:[v.firstDivItemFilm,"firstDivItemFilm"].join(" "),style:{backgroundImage:"url(".concat(e.image,")")},children:(0,m.jsxs)("div",{ref:w,className:[v.divItemFilm,"divItemFilm"].join(" "),children:[(0,m.jsxs)("div",{ref:B,className:v.divInfoItemFilms,children:[(0,m.jsx)("h2",{ref:j,className:v.hItemFilmsName,children:e.title}),(0,m.jsxs)("div",{ref:I,className:v.divPItemFilms,children:[(0,m.jsxs)("p",{className:v.pItemFilmsNumber,children:["Rating: ",e.rating]}),(0,m.jsxs)("p",{className:v.pItemFilmsNumber,children:["Release date: ",function(t){var e=new Date(t),n=e.getDate().toString().padStart(2,"0"),i=(e.getMonth()+1).toString().padStart(2,"0"),l=e.getFullYear();return"".concat(n,".").concat(i,".").concat(l)}(e.release_date)]})]})]}),(0,m.jsx)("button",{ref:b,type:"button",className:[v.buttonFav,f?v.isFavBut:v.notFavBut,"buttonFav"].join(" "),onClick:function(){var t=document.querySelector(".listFilmsForGap").scrollLeft;i((0,y.B)(t));var n=[];n=f?r.filter((function(t){return t.id!==e.id})):[].concat((0,p.Z)(r),[e]);var l={id:s,selected:n};i((0,_.pM)(l))},children:"Favorite"})]})})},w="ActiveItemFilm_allDivActItFilm__QwJY6",b="ActiveItemFilm_infoActIt__kyD-i",j="ActiveItemFilm_hActIt__Js2qS",I=n(5720),B=function(t){var e=t.film,n=(0,o.v9)(d.D5),i=(0,h.useRef)(null),l=(0,h.useRef)(null);return(0,h.useEffect)((function(){var t=n<=1e3?n:1e3,e=2.3;if(i.current&&l.current){var r=i.current,s=l.current;r.style.borderRadius=t/(44*e)+"px",s.style.borderRadius="0 0 ".concat(t/(44*e),"px ").concat(t/(44*e),"px"),s.style.padding=t/(50*e)+"px",s.style.paddingBottom=t/(25*e)+"px"}})),(0,m.jsx)("div",{ref:i,className:w,style:{backgroundImage:"url(".concat(e.image,")")},children:(0,m.jsxs)("div",{ref:l,className:b,children:[(0,m.jsx)("h2",{className:j,children:e.title}),(0,m.jsx)(I.V,{film:e,coef:"2.3"})]})})},S=n(7689),R=function(){var t=(0,o.I0)(),e=(0,o.v9)(d.KE),n=(0,h.useState)(e),i=(0,u.Z)(n,2),l=i[0],r=i[1],s=(0,o.v9)(d.AD),a=(0,o.v9)(d.yS),c=(0,o.v9)(d.D5),f=(0,h.useState)(null),x=(0,u.Z)(f,2),p=x[0],F=x[1],_=(0,h.useRef)(!1),w=(0,h.useRef)([]),b=(0,h.useRef)([]),j=(0,h.useRef)(null);return(0,h.useEffect)((function(){a>0&&j.current&&(setTimeout((function(){j.current.scrollLeft=a}),100),t((0,y.B)(0)))}),[a,t]),(0,h.useEffect)((function(){var t=j.current,e=b.current,n=w.current,i=document.querySelector(".listFilmsForGap"),l=3.2,r=window.innerWidth,s=r<=1e3?r:1e3;if(s&&n.length>0){n.forEach((function(t){t.style.height=s/l+"px",t.style.minWidth=s/(1.667*l)+"px",t.style.fontSize=s/(19*l)+"px",t.style.borderRadius=s/70.4+"px",F(null)})),i.style.gap=s/32+"px";var a=function(){n.length>0&&n.forEach((function(t){return o(t,r)}))};!_.current&&t&&n&&(_.current=!0,t.addEventListener("scroll",a));var u=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(r=window.innerWidth,(s=r<=1e3?r:1e3)&&n.length>0){var u=n.filter((function(t){return t.getAttribute("id")!==e.getAttribute("id")}));u.forEach((function(t){t.style.height=s/l+"px",t.style.minWidth=s/(1.667*l)+"px",t.style.fontSize=s/(19*l)+"px",t.style.borderRadius=s/140.8+"px",t.classList.remove(v.iFilmActive)})),e.style.height=s/l*1.4+"px",e.style.minWidth=s/(1.667*l)*1.4+"px",e.style.fontSize=s/(19*l)*1.4+"px",e.style.borderRadius=s/140.8*1.4+"px",e.classList.add(v.iFilmActive),F(e.getAttribute("id"));var c=j.current.scrollLeft;j.current.style.scrollBehavior="smooth",0!==i&&(j.current.scrollLeft=c+i),setTimeout((function(){t&&t.addEventListener("scroll",a)}),500)}},c=function(e,n,i){if(!e.target.classList.contains("buttonFav")){t&&t.removeEventListener("scroll",a);var l=n.getBoundingClientRect(),r=j.current.getBoundingClientRect(),s=260,c=60;if(i>=1e3?(s=100,c=100):i<1e3&&i>=900?(s=95,c=95):i<900&&i>=800?(s=85,c=85):i<800&&i>=750?(s=77,c=77):i<750&&i>=700?(s=73,c=73):i<700&&i>=650?(s=67,c=67):i<650&&i>=600?(s=62,c=62):i<600&&i>=550?(s=58,c=58):i<550&&i>=500?(s=51,c=51):i<500&&i>=450?(s=58,c=58):i<450&&i>=400?(s=51,c=51):i<400&&i>=350?(s=46,c=46):i<350&&(s=36,c=36),l.x<r.x+r.width/2){var o=0-r.width/2+l.x+s;u(n,o)}else{var d=0-r.width/2+l.x+c;u(n,d)}}};n.forEach((function(n){var i=n.getAttribute("id");!e.includes(i)&&t&&(n.addEventListener("click",(function(t){return c(t,n,r)})),e.push(i))}));var o=function(t,e){var n=t.getBoundingClientRect(),i=j.current.getBoundingClientRect(),l=i.x+i.width/2-n.width/2+50-170,r=i.x+i.width/2+n.width/2-50-170,s=100;if(e<=1e3&&e>900?(l=i.x+i.width/2-n.width/2+50-100,r=i.x+i.width/2+n.width/2-50-100,s=90):e<=900&&e>800?(l=i.x+i.width/2-n.width/2+50-100,r=i.x+i.width/2+n.width/2-50-100,s=80):e<=800&&e>700?(l=i.x+i.width/2-n.width/2+50-100,r=i.x+i.width/2+n.width/2-50-100,s=70):e<=700&&e>600?(l=i.x+i.width/2-n.width/2+50-80,r=i.x+i.width/2+n.width/2-50-80,s=60):e<=600&&e>500?(l=i.x+i.width/2-n.width/2+20-50,r=i.x+i.width/2+n.width/2-20-50,s=50):e<=500&&e>400?(l=i.x+i.width/2-n.width/2+20-50,r=i.x+i.width/2+n.width/2-20-50,s=40):e<=400&&(l=i.x+i.width/2-n.width/2+20-50,r=i.x+i.width/2+n.width/2-20-50,s=30),n.x>l&&n.x<i.x+i.width/2&&!t.classList.contains(v.itemContactActive)){var a=0-n.width/2+s;u(t,a)}else if(n.x>i.x+i.width/2&&n.x<r&&!t.classList.contains(v.itemContactActive)){var c=0+n.width/2-100;u(t,c)}};return function(){s=null,t&&(_.current=!1,t.removeEventListener("scroll",a)),n.length>0&&(n.forEach((function(t){t.removeEventListener("click",(function(){return c(t,r)}))})),b.current=[])}}}),[l,c]),(0,h.useEffect)((function(){w.current=[],s.length>0?r(e.filter((function(t){return t.title.toLowerCase().includes(s.toLowerCase())}))):r(e)}),[s,e]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("ul",{ref:j,className:[v.listFilms,"listFilmsForGap"].join(" "),children:0===l.length&&0===s.length?(0,m.jsx)("h2",{children:"Right now you don't have any films."}):0!==l.length?l.map((function(t){return(0,m.jsx)("li",{ref:function(t){null===t||w.current.some((function(e){return e.getAttribute("id")===t.getAttribute("id")}))||w.current.push(t)},id:t.id,className:[v.itemContact,"itemContact"].join(" "),children:p===t.id?(0,m.jsx)(B,{film:t}):(0,m.jsx)(g,{film:t,index:l.indexOf(t),id:t.id,activeId:p})},t.id)})):(0,m.jsx)("h2",{children:"Not found any films that meet the search criteria."})}),(0,m.jsx)(h.Suspense,{children:(0,m.jsx)(S.j3,{})})]})},A=n(168),L=n(7924),N=(0,L.F4)(i||(i=(0,A.Z)(["\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n"]))),P=L.ZP.div(l||(l=(0,A.Z)(["\nposition: absolute;\ntop: 50%;\nleft: 50%;\n"]))),D=L.ZP.div(r||(r=(0,A.Z)(["\n  display: inline-block;\n  position: relative;\n  width: 80px;\n  height: 80px;\n"]))),E=L.ZP.div(s||(s=(0,A.Z)(["\n  animation: ",' 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n  transform-origin: 40px 40px;\n\n  &:after {\n    content: " ";\n    display: block;\n    position: absolute;\n    width: 7px;\n    height: 7px;\n    border-radius: 50%;\n    background: #000;\n    margin: -4px 0 0 -4px;\n  }\n'])),N),Z=(0,L.ZP)(E)(a||(a=(0,A.Z)(["\n  &:nth-child(1) {\n    animation-delay: -0.036s;\n    &:after {\n      top: 63px;\n      left: 63px;\n    }\n  }\n  &:nth-child(2) {\n    animation-delay: -0.072s;\n    &:after {\n      top: 68px;\n      left: 56px;\n    }\n  }\n  &:nth-child(3) {\n    animation-delay: -0.108s;\n    &:after {\n      top: 71px;\n      left: 48px;\n    }\n  }\n  &:nth-child(4) {\n    animation-delay: -0.144s;\n    &:after {\n      top: 72px;\n      left: 40px;\n    }\n  }\n  &:nth-child(5) {\n    animation-delay: -0.18s;\n    &:after {\n      top: 71px;\n      left: 32px;\n    }\n  }\n  &:nth-child(6) {\n    animation-delay: -0.216s;\n    &:after {\n      top: 68px;\n      left: 24px;\n    }\n  }\n  &:nth-child(7) {\n    animation-delay: -0.252s;\n    &:after {\n      top: 63px;\n      left: 17px;\n    }\n  }\n  &:nth-child(8) {\n    animation-delay: -0.288s;\n    &:after {\n      top: 56px;\n      left: 12px;\n    }\n  }\n"]))),C=function(){return(0,m.jsx)(P,{children:(0,m.jsx)(D,{children:(0,p.Z)(Array(8)).map((function(t,e){return(0,m.jsx)(Z,{},e)}))})})},k=function(){var t=window.innerWidth,e=(0,o.v9)(d.xU),n=(0,o.v9)(d.zt),i=20;return i=t>1e3?50:t>500&&t<=1e3?t/20:t/40,(0,m.jsx)("div",{className:[v.allDivFilmList,"allDivFilmList"].join(" "),children:n?(0,m.jsx)("h2",{children:"Oopsss...Something went wrong..."}):(0,m.jsx)("div",{id:"divForFilmList",className:v.divForFilmList,style:{paddingLeft:i,paddingRight:i},children:e&&!n?(0,m.jsx)(C,{}):(0,m.jsx)(R,{})})})},M=n(5294),W=n(4751),z="PageUsers_divContFiltPageUsers__JZL5M",G=n(7990),T=function(){var t=(0,o.I0)(),e=(0,o.v9)(F.rK),n=(0,o.v9)(F.Wu),i=new URLSearchParams(window.location.search).get("token");return(0,h.useEffect)((function(){i?(M.Z.defaults.headers.common.Authorization="Bearer ".concat(i),t((0,W.o4)(i)),t((0,G.cu)()),n&&t((0,_.oe)(n))):e&&(M.Z.defaults.headers.common.Authorization="Bearer ".concat(e),t((0,G.cu)()),n&&t((0,_.oe)(n)))})),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:z,children:(0,m.jsx)(x,{})}),(0,m.jsx)(k,{})]})}}}]);
//# sourceMappingURL=984.f32f78b3.chunk.js.map